{"remainingRequest":"/Users/qianhe/Desktop/springboot的副本4/vue/node_modules/babel-loader/lib/index.js!/Users/qianhe/Desktop/springboot的副本4/vue/src/router/index.js","dependencies":[{"path":"/Users/qianhe/Desktop/springboot的副本4/vue/src/router/index.js","mtime":1653503356801},{"path":"/Users/qianhe/Desktop/springboot的副本4/vue/babel.config.js","mtime":1642682272000},{"path":"/Users/qianhe/Desktop/springboot的副本4/vue/node_modules/cache-loader/dist/cjs.js","mtime":1653107190862},{"path":"/Users/qianhe/Desktop/springboot的副本4/vue/node_modules/babel-loader/lib/index.js","mtime":1652449341364}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9Mb2dpbi52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUmVnaXN0ZXIudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy80MDQnLAogIG5hbWU6ICc0MDQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvNDA0LnZ1ZScpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8vIOmHjee9rui3r+eUsQoKZXhwb3J0IHZhciByZXNldFJvdXRlciA9IGZ1bmN0aW9uIHJlc2V0Um91dGVyKCkgewogIHJvdXRlci5tYXRjaGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgICBtb2RlOiAnaGlzdG9yeScsCiAgICByb3V0ZXM6IHJvdXRlcwogIH0pOwp9OyAvLyDms6jmhI/vvJrliLfmlrDpobXpnaLkvJrlr7zoh7TpobXpnaLot6/nlLHph43nva4KCmV4cG9ydCB2YXIgc2V0Um91dGVzID0gZnVuY3Rpb24gc2V0Um91dGVzKCkgewogIHZhciBzdG9yZU1lbnVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1lbnVzIik7CgogIGlmIChzdG9yZU1lbnVzKSB7CiAgICAvLyDmi7zoo4XliqjmgIHot6/nlLEKICAgIHZhciBtYW5hZ2VSb3V0ZSA9IHsKICAgICAgcGF0aDogJy8nLAogICAgICBuYW1lOiAnTWFuYWdlJywKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvTWFuYWdlLnZ1ZScpOwogICAgICB9LAogICAgICByZWRpcmVjdDogIi93YXRlcmdhdGUiLAogICAgICBjaGlsZHJlbjogW3sKICAgICAgICBwYXRoOiAncGVyc29uJywKICAgICAgICBuYW1lOiAn5Liq5Lq65L+h5oGvJywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL1BlcnNvbi52dWUnKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBwYXRoOiAncGFzc3dvcmQnLAogICAgICAgIG5hbWU6ICfkv67mlLnlr4bnoIEnLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUGFzc3dvcmQudnVlJyk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcGF0aDogJ3dhdGVyZWRpdCcsCiAgICAgICAgbmFtZTogJ+awtOmXuOS/ruaUuScsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9XYXRlcmVkaXQudnVlJyk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcGF0aDogJ3dhdGVyYWRkJywKICAgICAgICBuYW1lOiAn5rC06Ze45aKe5YqgJywKICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL1dhdGVyQWRkLnZ1ZScpOwogICAgICAgIH0KICAgICAgfV0KICAgIH07CiAgICB2YXIgbWVudXMgPSBKU09OLnBhcnNlKHN0b3JlTWVudXMpOwogICAgbWVudXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoaXRlbS5wYXRoKSB7CiAgICAgICAgLy8g5b2T5LiU5LuF5b2TcGF0aOS4jeS4uuepuueahOaXtuWAmeaJjeWOu+iuvue9rui3r+eUsQogICAgICAgIHZhciBpdGVtTWVudSA9IHsKICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aC5yZXBsYWNlKCIvIiwgIiIpLAogICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzLycgKyBpdGVtLnBhZ2VQYXRoICsgJy52dWUnKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIG1hbmFnZVJvdXRlLmNoaWxkcmVuLnB1c2goaXRlbU1lbnUpOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgaXRlbS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5wYXRoKSB7CiAgICAgICAgICAgIHZhciBfaXRlbU1lbnUgPSB7CiAgICAgICAgICAgICAgcGF0aDogaXRlbS5wYXRoLnJlcGxhY2UoIi8iLCAiIiksCiAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvJyArIGl0ZW0ucGFnZVBhdGggKyAnLnZ1ZScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgbWFuYWdlUm91dGUuY2hpbGRyZW4ucHVzaChfaXRlbU1lbnUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsgLy8g6I635Y+W5b2T5YmN55qE6Lev55Sx5a+56LGh5ZCN56ew5pWw57uECgogICAgdmFyIGN1cnJlbnRSb3V0ZU5hbWVzID0gcm91dGVyLmdldFJvdXRlcygpLm1hcChmdW5jdGlvbiAodikgewogICAgICByZXR1cm4gdi5uYW1lOwogICAgfSk7CgogICAgaWYgKCFjdXJyZW50Um91dGVOYW1lcy5pbmNsdWRlcygnTWFuYWdlJykpIHsKICAgICAgLy8g5Yqo5oCB5re75Yqg5Yiw546w5Zyo55qE6Lev55Sx5a+56LGh5Lit5Y67CiAgICAgIHJvdXRlci5hZGRSb3V0ZShtYW5hZ2VSb3V0ZSk7CiAgICB9CiAgfQp9OyAvLyDmr4/mrKHliLfmlrDpobXpnaLpg73opoHph43mlrDorr7nva7ot6/nlLHvvIzlkKbliJnot6/nlLHlsLHkvJrooqvph43nva4KCnNldFJvdXRlcygpOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY3VycmVudFBhdGhOYW1lIiwgdG8ubmFtZSk7IC8vIOiuvue9ruW9k+WJjeeahOi3r+eUseWQjeensAoKICBzdG9yZS5jb21taXQoInNldFBhdGgiKTsKCiAgaWYgKCF0by5tYXRjaGVkLmxlbmd0aCkgewogICAgdmFyIG1lbnVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1lbnVzIik7CgogICAgaWYgKCFtZW51cykgewogICAgICBuZXh0KCIvbG9naW4iKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoIi80MDQiKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["Vue","VueRouter","store","use","routes","path","name","component","router","mode","resetRouter","matcher","setRoutes","storeMenus","localStorage","getItem","manageRoute","redirect","children","menus","JSON","parse","forEach","item","itemMenu","replace","pagePath","push","length","currentRouteNames","getRoutes","map","v","includes","addRoute","beforeEach","to","from","next","setItem","commit","matched"],"sources":["/Users/qianhe/Desktop/springboot的副本4/vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport store from \"@/store\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: () => import('../views/Login.vue')\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'Register',\r\n    component: () => import('../views/Register.vue')\r\n  },\r\n  {\r\n    path: '/404',\r\n    name: '404',\r\n    component: () => import('../views/404.vue')\r\n  },\r\n\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  routes\r\n})\r\n\r\n// 重置路由\r\nexport const resetRouter = () => {\r\n  router.matcher = new VueRouter({\r\n    mode: 'history',\r\n    routes\r\n  })\r\n}\r\n\r\n// 注意：刷新页面会导致页面路由重置\r\nexport const setRoutes = () => {\r\n  const storeMenus = localStorage.getItem(\"menus\");\r\n  if (storeMenus) {\r\n    // 拼装动态路由\r\n    const manageRoute = { path: '/', name: 'Manage', component: () => import('../views/Manage.vue'), redirect: \"/watergate\", children: [\r\n        { path: 'person', name: '个人信息', component: () => import('../views/Person.vue')},\r\n        { path: 'password', name: '修改密码', component: () => import('../views/Password.vue')},\r\n        { path: 'wateredit', name: '水闸修改', component: () => import('../views/Wateredit.vue')},\r\n        { path: 'wateradd', name: '水闸增加', component: () => import('../views/WaterAdd.vue')}\r\n      ] }\r\n    const menus = JSON.parse(storeMenus)\r\n    menus.forEach(item => {\r\n      if (item.path) {  // 当且仅当path不为空的时候才去设置路由\r\n        let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\r\n        manageRoute.children.push(itemMenu)\r\n      } else if(item.children.length) {\r\n        item.children.forEach(item => {\r\n          if (item.path) {\r\n            let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\r\n            manageRoute.children.push(itemMenu)\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n    // 获取当前的路由对象名称数组\r\n    const currentRouteNames = router.getRoutes().map(v => v.name)\r\n    if (!currentRouteNames.includes('Manage')) {\r\n      // 动态添加到现在的路由对象中去\r\n      router.addRoute(manageRoute)\r\n    }\r\n  }\r\n}\r\n\r\n// 每次刷新页面都要重新设置路由，否则路由就会被重置\r\nsetRoutes()\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  localStorage.setItem(\"currentPathName\", to.name)  // 设置当前的路由名称\r\n  store.commit(\"setPath\")\r\n  if (!to.matched.length) {\r\n    const menus = localStorage.getItem(\"menus\")\r\n    if (!menus) {\r\n      next(\"/login\")\r\n    } else {\r\n      next(\"/404\")\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\r\n"],"mappings":"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"}]}